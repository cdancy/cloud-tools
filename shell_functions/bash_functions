DOCKER_REPO="cdancy/cloud-tools"
DOCKER_TAG="0.0.2"
DOCKER_VOLUMES="-v ~/.okta-aws:/root/.okta-aws -v ~/.awssaml.properties:/root/.awssaml.properties -v ~/.aws:/root/.aws -v ~/.kube:/root/.kube"
DOCKER_OPTIONS="--sig-proxy=true -i $DOCKER_VOLUMES --rm $DOCKER_REPO:$DOCKER_TAG"

# function to invoke aws
function a() { __execute_command aws "$@" ; }

# function to invoke aws-saml
function as() { __execute_command aws-saml "$@" ; }

# function to invoke docker
function d() { __execute_command docker "$@" ; }

# function to invoke helm
function h() { __execute_command helm "$@" ; }

# function to invoke kubectl
function kc() { __execute_command kubectl "$@" ; }

# function to invoke octa-awscli
function oac() { __execute_command okta-awscli "$@" ; }

# function to invoke python3
function p() {
  if [ -z "$@" ]; then command="--help"; else command="$@"; fi
  __execute_command python3 $command
}

function __execute_command() {
  docker_host_env=`printenv DOCKER_HOST`
  if [ ! -z "$docker_host_env" ]; then docker_host_env="-e DOCKER_HOST=$docker_host_env"; fi 
  eval docker run $docker_host_env $DOCKER_OPTIONS "$@" ; 
}

